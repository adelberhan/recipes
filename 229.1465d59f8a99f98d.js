"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[229],{1126:(E,m,i)=>{i.d(m,{G:()=>c});var e=i(5030),t=i(3020),a=i(1476),v=i(5496),_=i(4755),u=i(3649);function d(o,s){if(1&o){const n=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"label",7),t._uU(3,"Name"),t.qZA(),t._UZ(4,"input",21),t.qZA(),t.TgZ(5,"div",22)(6,"label",23),t._uU(7,"Amount"),t.qZA(),t._UZ(8,"input",24),t.qZA(),t.TgZ(9,"div",25)(10,"button",5),t.NdJ("click",function(){const h=t.CHM(n).index,g=t.oxw();return t.KtG(g.onDelete(h))}),t._uU(11," X "),t.qZA()()()}2&o&&t.Q6J("formGroupName",s.index)}let c=(()=>{class o{constructor(n,r,l,h,g,p){this.route=n,this.recipeService=r,this.formBuilder=l,this.router=h,this._location=g,this.httpRes=p,this.editMode=!1}ngOnInit(){this.recipeService.recipeChanged.subscribe(n=>{this.recipes=n}),this.route.params.subscribe(n=>{this.id=+n.id,this.editMode=null!=n.id,this.initForm()})}initForm(){let n="",r="",l="",h=new e.Oe([]);if(this.editMode){const g=this.recipeService.getRecipe(this.id);if(n=g.name,r=g.imgPath,l=g.description,g.ingredient)for(let p of g.ingredient)h.push(new e.cw({name:new e.NI(p.name,e.kI.required),amount:new e.NI(p.amount,[e.kI.required,e.kI.pattern(/^[1-9]+[0-9]*$/)])}))}this.recForm=new e.cw({name:new e.NI(n,e.kI.required),imgPath:new e.NI(r,e.kI.required),description:new e.NI(l,e.kI.required),ingredients:h})}get controls(){return this.recForm.get("ingredients").controls}onSaveData(){this.httpRes.storeRecipes()}onAddIngredient(){this.recForm.get("ingredients").push(new e.cw({name:new e.NI(null,e.kI.required),amount:new e.NI(null,[e.kI.required,e.kI.pattern(/^[1-9]+[0-9]*$/)])}))}onCancel(){this.router.navigate(["../"],{relativeTo:this.route})}onDelete(n){this.recForm.get("ingredients").removeAt(n)}onSubmit(){this.editMode?this.recipeService.updateRecipe(this.id,this.recForm.value):this.recipeService.addRecipe(this.recForm.value)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(a.gz),t.Y36(v.j),t.Y36(e.qu),t.Y36(a.F0),t.Y36(_.Ye),t.Y36(u.Z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-recipe-edit"]],decls:39,vars:4,consts:[[1,"row"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"col-12","mt-4"],["type","submit",1,"btn","btn-success","me-2",3,"disabled","click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"form-group"],["for","name"],["type","text","formControlName","name","id","name",1,"form-control"],["for","imgPath"],["type","text","formControlName","imgPath","id","imgPath",1,"form-control"],["imgPath",""],["alt","",1,"img-fluid",3,"src"],["for","desc"],["type","text","formControlName","description","id","desc",1,"form-control"],["formArrayName","ingredients",1,"row","mt-2"],["class","row m-1",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","m-4"],["type","button",1,"btn","btn-success",3,"click"],[1,"row","m-1",3,"formGroupName"],[1,"col-8"],["type","text","id","name","formControlName","name",1,"form-control"],[1,"col-2"],["for","amount"],["type","number","id","amount","formControlName","amount",1,"form-control"],[1,"col-2","mt-auto"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(3,"div",0)(4,"div",3)(5,"button",4),t.NdJ("click",function(){return r.onSaveData()}),t._uU(6," Save "),t.qZA(),t.TgZ(7,"button",5),t.NdJ("click",function(){return r.onCancel()}),t._uU(8," Cancel "),t.qZA()()(),t.TgZ(9,"div",0)(10,"div",1)(11,"div",6)(12,"label",7),t._uU(13,"Name"),t.qZA(),t._UZ(14,"input",8),t.qZA()()(),t.TgZ(15,"div",0)(16,"div",1)(17,"div",6)(18,"label",9),t._uU(19,"Img Url"),t.qZA(),t._UZ(20,"input",10,11),t.qZA()()(),t.TgZ(22,"div",0)(23,"div",1)(24,"div",6),t._UZ(25,"img",12),t.qZA()()(),t.TgZ(26,"div",0)(27,"div",1)(28,"div",6)(29,"label",13),t._uU(30,"Description"),t.qZA(),t._UZ(31,"textarea",14),t.qZA()()(),t.TgZ(32,"div",15)(33,"div",1),t.YNc(34,d,12,1,"div",16),t.TgZ(35,"div",17)(36,"div",0)(37,"button",18),t.NdJ("click",function(){return r.onAddIngredient()}),t._uU(38," Add ingredient "),t.qZA()()()()()()()()),2&n){const l=t.MAs(21);t.xp6(2),t.Q6J("formGroup",r.recForm),t.xp6(3),t.Q6J("disabled",!r.recForm.valid),t.xp6(20),t.Q6J("src",l.value,t.LSH),t.xp6(9),t.Q6J("ngForOf",r.controls)}},dependencies:[e._Y,e.Fj,e.wV,e.JJ,e.JL,e.sg,e.u,e.x0,e.CE,_.sg],styles:["input.ng-invalid[_ngcontent-%COMP%], textarea.ng-invalid[_ngcontent-%COMP%]{border:1px solid red}"]}),o})()},1841:(E,m,i)=>{i.d(m,{g:()=>u});var e=i(3020),t=i(5599),a=i(1476),v=i(4755);function _(d,c){1&d&&(e.TgZ(0,"div",2)(1,"div",3)(2,"button",4),e._uU(3,"Signing First \u{1f603}"),e.qZA()()())}let u=(()=>{class d{constructor(o){this.authService=o,this.isAuth=!1}ngOnInit(){this.endSubs=this.authService.user.subscribe(o=>{this.isAuth=!!o})}ngOnDestroy(){this.endSubs.unsubscribe()}}return d.\u0275fac=function(o){return new(o||d)(e.Y36(t.e))},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-recipe-start"]],decls:4,vars:1,consts:[[1,"col-12"],["class","col-3",4,"ngIf"],[1,"col-3"],[1,"row"],["routerLink","/auth",1,"btn","btn-warning"]],template:function(o,s){1&o&&(e._UZ(0,"div",0),e.TgZ(1,"h3"),e._uU(2,"Select Item"),e.qZA(),e.YNc(3,_,4,0,"div",1)),2&o&&(e.xp6(3),e.Q6J("ngIf",!s.isAuth))},dependencies:[a.rH,v.O5]}),d})()},2229:(E,m,i)=>{i.d(m,{D:()=>g});var e=i(5698),t=i(4004),a=i(3020),v=i(5599),_=i(1476);let u=(()=>{class p{constructor(f,C){this.auth=f,this.router=C}canActivate(f,C){return this.auth.user.pipe((0,e.q)(1),(0,t.U)(A=>this.router.createUrlTree(["/auth"]))),!0}}return p.\u0275fac=function(f){return new(f||p)(a.LFG(v.e),a.LFG(_.F0))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var d=i(1126),c=i(3649),o=i(5496);let s=(()=>{class p{constructor(f,C){this.dataStorage=f,this.recipeService=C}resolve(f,C){const A=this.recipeService.getRecipes();return 0===A.length?this.dataStorage.fetchData():A}}return p.\u0275fac=function(f){return new(f||p)(a.LFG(c.Z),a.LFG(o.j))},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var n=i(1841),r=i(5735),l=i(5037);const h=[{path:"",canActivate:[u],component:r.P,children:[{path:"",component:n.g},{path:"new",component:d.G},{path:":id",component:l.u,resolve:[s]},{path:":id/edit",component:d.G,resolve:[s]}]}];let g=(()=>{class p{}return p.\u0275fac=function(f){return new(f||p)},p.\u0275mod=a.oAB({type:p}),p.\u0275inj=a.cJS({imports:[_.Bz.forChild(h),_.Bz]}),p})()},5735:(E,m,i)=>{i.d(m,{P:()=>_});var e=i(3020),t=i(5496),a=i(1476),v=i(343);let _=(()=>{class u{constructor(c){this.recipeService=c}}return u.\u0275fac=function(c){return new(c||u)(e.Y36(t.j))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-recipes"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-5"],[1,"col-md-7"]],template:function(c,o){1&c&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-respies-list"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()())},dependencies:[a.lC,v.h]}),u})()},5037:(E,m,i)=>{i.d(m,{u:()=>d});var e=i(3020),t=i(1476),a=i(5496),v=i(9834),_=i(4755);function u(c,o){if(1&c&&(e.TgZ(0,"li",11),e._uU(1),e.qZA()),2&c){const s=o.$implicit;e.xp6(1),e.AsE("",s.name,"-",s.amount,"")}}let d=(()=>{class c{constructor(s,n,r){this.route=s,this.recipeService=n,this.router=r}ngOnInit(){this.route.params.subscribe(s=>{this.id=+s.id,this.recipe=this.recipeService.getRecipe(this.id)})}editRecipe(){this.router.navigate(["../",this.id,"edit"],{relativeTo:this.route})}onDelete(){this.recipeService.deleteRecipe(this.id),this.router.navigate(["/recipes"])}}return c.\u0275fac=function(s){return new(s||c)(e.Y36(t.gz),e.Y36(a.j),e.Y36(t.F0))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-respies-details"]],decls:30,vars:4,consts:[[1,"row"],[1,"col-xs-12"],["alt","",1,"img-responsive",2,"max-height","300px",3,"src"],[1,"btn-group"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-primary","dropdown-toggle"],[1,"caret"],["appDropdown","",1,"dropdown-menu"],[1,"dropdown-item",2,"cursor","pointer"],[1,"dropdown-item",2,"cursor","pointer",3,"click"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(s,n){1&s&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA()(),e.TgZ(3,"div",0)(4,"div",1)(5,"h1"),e._uU(6),e.qZA()()(),e.TgZ(7,"div",0)(8,"div",1)(9,"div",3)(10,"button",4),e._uU(11," Manage Recipe "),e._UZ(12,"span",5),e.qZA(),e.TgZ(13,"ul",6)(14,"li")(15,"a",7),e._uU(16,"To Shopping List"),e.qZA()(),e.TgZ(17,"li")(18,"a",8),e.NdJ("click",function(){return n.editRecipe()}),e._uU(19,"Edit Recipe"),e.qZA()(),e.TgZ(20,"li")(21,"a",8),e.NdJ("click",function(){return n.onDelete()}),e._uU(22,"Delete Recipe"),e.qZA()()()()()(),e.TgZ(23,"div",0)(24,"div",1),e._uU(25),e.qZA()(),e.TgZ(26,"div",0)(27,"div",1)(28,"ul",9),e.YNc(29,u,2,2,"li",10),e.qZA()()()),2&s&&(e.xp6(2),e.Q6J("src",n.recipe.imgPath,e.LSH),e.xp6(4),e.Oqu(n.recipe.name),e.xp6(19),e.Oqu(n.recipe.description),e.xp6(4),e.Q6J("ngForOf",n.recipe.ingredient))},dependencies:[v.w,_.sg]}),c})()},5345:(E,m,i)=>{i.d(m,{r:()=>_});var e=i(3020),t=i(5496),a=i(1476);const v=function(u){return[u]};let _=(()=>{class u{constructor(c){this.recipeService=c}}return u.\u0275fac=function(c){return new(c||u)(e.Y36(t.j))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-recipes-item"]],inputs:{recipe:"recipe",id:"id"},decls:8,vars:7,consts:[["routerLinkActive","active",1,"list-group-item","clearfix",2,"cursor","pointer",3,"routerLink"],[1,"float-start"],[1,"list-group-item-heading"],[1,"list-group-item-text"],[1,"float-end"],[1,"img-fluid","rounded-2",2,"max-height","50px",3,"src","alt"]],template:function(c,o){1&c&&(e.TgZ(0,"a",0)(1,"div",1)(2,"h4",2),e._uU(3),e.qZA(),e.TgZ(4,"p",3),e._uU(5),e.qZA()(),e.TgZ(6,"span",4),e._UZ(7,"img",5),e.qZA()()),2&c&&(e.Q6J("routerLink",e.VKq(5,v,o.id)),e.xp6(3),e.Oqu(o.recipe.name),e.xp6(2),e.Oqu(o.recipe.description),e.xp6(2),e.s9C("alt",o.recipe.name),e.Q6J("src",o.recipe.imgPath,e.LSH))},dependencies:[a.rH,a.Od],styles:["a[_ngcontent-%COMP%]{border:solid 3px rgb(248,245,245);width:85%;padding:10px}"]}),u})()},343:(E,m,i)=>{i.d(m,{h:()=>o});var e=i(3020),t=i(5496),a=i(1476),v=i(5599),_=i(4755),u=i(5345);function d(s,n){if(1&s){const r=e.EpF();e.TgZ(0,"div",2)(1,"button",5),e.NdJ("click",function(){e.CHM(r);const h=e.oxw();return e.KtG(h.newItem())}),e._uU(2,"New Recipe"),e.qZA()()}}function c(s,n){if(1&s&&e._UZ(0,"app-recipes-item",6),2&s){const r=n.$implicit;e.Q6J("id",n.index)("recipe",r)}}let o=(()=>{class s{constructor(r,l,h,g){this.recipeService=r,this.route=l,this.activeRoute=h,this.authService=g,this.isAuth=!1}ngOnInit(){this.endSubs=this.recipeService.recipeChanged.subscribe(r=>{this.recipes=r}),this.recipes=this.recipeService.getRecipes(),this.endSubs=this.authService.user.subscribe(r=>{this.isAuth=!!r})}newItem(){this.route.navigate(["new"],{relativeTo:this.activeRoute})}ngOnDestroy(){this.endSubs.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(e.Y36(t.j),e.Y36(a.F0),e.Y36(a.gz),e.Y36(v.e))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-respies-list"]],decls:6,vars:2,consts:[[1,"row"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"list-group"],[3,"id","recipe",4,"ngFor","ngForOf"],[1,"btn","btn-success","m-4",3,"click"],[3,"id","recipe"]],template:function(r,l){1&r&&(e.TgZ(0,"div",0),e.YNc(1,d,3,0,"div",1),e.TgZ(2,"div",2)(3,"div",0),e._UZ(4,"div",3),e.YNc(5,c,1,2,"app-recipes-item",4),e.qZA()()()),2&r&&(e.xp6(1),e.Q6J("ngIf",l.isAuth),e.xp6(4),e.Q6J("ngForOf",l.recipes))},dependencies:[_.sg,_.O5,u.r]}),s})()}}]);