"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[92],{92:(w,l,s)=>{s.r(l),s.d(l,{AuthModule:()=>Z});var m=s(4755),p=s(727),f=s(8779),h=s(402),t=s(3020),g=s(5599),d=s(1476),r=s(5030),v=s(4984);function b(e,a){}function A(e,a){1&e&&(t.TgZ(0,"div",6),t._UZ(1,"app-spinner"),t.qZA())}function C(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"form",7,8),t.NdJ("ngSubmit",function(){t.CHM(n);const i=t.MAs(1),c=t.oxw();return t.KtG(c.onSubmit(i))}),t.TgZ(2,"div",9)(3,"label",10),t._uU(4,"E-Mail"),t.qZA(),t._UZ(5,"input",11),t.qZA(),t.TgZ(6,"div",9)(7,"label",12),t._uU(8,"Password"),t.qZA(),t._UZ(9,"input",13),t.qZA(),t.TgZ(10,"div",9)(11,"button",14),t._uU(12),t.qZA(),t._uU(13," | "),t.TgZ(14,"button",15),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.switchMode())}),t._uU(15),t.qZA()()()}if(2&e){const n=t.MAs(1),o=t.oxw();t.xp6(11),t.Q6J("disabled",n.invalid),t.xp6(1),t.hij(" ",o.isLogin?"Login":"Sign Up"," "),t.xp6(3),t.hij(" Switch to ",o.isLogin?"Sign Up":"Login"," ")}}let y=(()=>{class e{constructor(n,o,i){this.authService=n,this.router=o,this.componentFactory=i,this.isLogin=!0,this.isLoading=!1,this.error=null,this.isAuth=!1,this.endSubs=new p.w0}switchMode(){this.isLogin=!this.isLogin}onSubmit(n){const o=n.value.email,i=n.value.password;let c;n.invalid||(this.isLoading=!0,c=this.isLogin?this.authService.signIn(o,i):this.authService.signUp(o,i),c.subscribe(u=>{this.isLoading=!1,this.router.navigate(["/recipes"])},u=>{this.error=u,this.showErrorMessage(u),this.isLoading=!1}),n.reset())}handelError(){this.error=null}showErrorMessage(n){const o=this.componentFactory.resolveComponentFactory(f.q),i=this.alertHost.viewContainer;i.clear();const c=i.createComponent(o);c.instance.message=n,this.endSubs=c.instance.close.subscribe(()=>{i.clear(),this.endSubs.unsubscribe()})}ngOnDestroy(){this.endSubs.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(g.e),t.Y36(d.F0),t.Y36(t._Vd))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-auth"]],viewQuery:function(n,o){if(1&n&&t.Gf(h.b,7),2&n){let i;t.iGM(i=t.CRH())&&(o.alertHost=i.first)}},decls:6,vars:2,consts:[["appPlaceholder",""],[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-md-6"],["class","text-center",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[1,"text-center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(n,o){1&n&&(t.YNc(0,b,0,0,"ng-template",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,A,2,0,"div",4),t.YNc(5,C,16,3,"form",5),t.qZA()()()),2&n&&(t.xp6(4),t.Q6J("ngIf",o.isLoading),t.xp6(1),t.Q6J("ngIf",!o.isLoading))},dependencies:[m.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.on,r.On,r.F,v.O,h.b],encapsulation:2}),e})();var S=s(1511);let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,d.Bz.forChild([{path:"",component:y}]),r.u5,S.m]}),e})()}}]);